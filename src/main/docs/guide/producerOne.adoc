Next we need to create a producer to produce messages because what good is a consumer of messages if there are no messages
to consume? In order to create our producer we can use standard grails commands to create a new controller as follows.

[source,bash]
----
$ grails create-controller demo.Test
----

This will create an empty controller

[source,groovy]
.grails-app/controllers/demo/TestController.groovy
----
package demo

class TestController {

    def index() { }
}
----

In order for our controller to produce messages update as follows

[source,groovy]
.grails-app/controllers/demo/TestController.groovy
----
include::{sourceDir}/grails-app/controllers/demo/TestController.groovy[]
----
<1> Add the `rabbitMessagePublisher`
<2> Send a message specifying the message queue to use and the message. When sending a message using rpc a return message is expected.